<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FIIFII - 이노비즈 인증 지원사업</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Pretendard:wght@400;500;700;900&display=swap');
        body { font-family: 'Pretendard', sans-serif; }
        .glass-nav { background: rgba(255, 255, 255, 0.8); backdrop-filter: blur(12px); }
        .progress-ring__circle { transition: stroke-dashoffset 0.8s ease-in-out; transform: rotate(-90deg); transform-origin: 50% 50%; }
    </style>
</head>
<body class="bg-gray-50 text-gray-900 pb-32">

    <!-- 1. GNB -->
    <nav class="sticky top-0 z-50 glass-nav border-b border-gray-100 px-6 py-4 flex justify-between items-center">
        <div class="flex items-center space-x-2">
            <div class="w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center text-white font-bold shadow-lg shadow-blue-200">F</div>
            <span class="text-xl font-bold text-blue-600 tracking-tight">FIIFII</span>
        </div>
        <div class="hidden md:flex items-center space-x-8 text-sm font-semibold">
            <a href="#" class="text-gray-600 hover:text-blue-600">지원사업 찾기</a>
            <a href="#" class="text-gray-600 hover:text-blue-600">AI 매칭</a>
            <a href="#" class="text-gray-600 hover:text-blue-600 font-bold">인증 컨설팅</a>
            <button class="bg-blue-600 text-white px-5 py-2 rounded-full font-bold shadow-md hover:bg-blue-700 transition-all">앱 다운로드</button>
        </div>
    </nav>

    <!-- 2. Hero Section -->
    <header class="bg-white border-b border-gray-50 pt-12 pb-16">
        <div class="max-w-6xl mx-auto px-6 grid grid-cols-1 lg:grid-cols-12 gap-10 items-center">
            <div class="lg:col-span-7">
                <div class="flex items-center space-x-3 mb-6">
                    <span class="bg-blue-50 text-blue-600 text-xs font-black px-3 py-1.5 rounded-md border border-blue-100 uppercase">Inno-Biz Support</span>
                    <span class="flex items-center text-red-500 text-xs font-bold bg-red-50 py-1.5 px-3 rounded-md">
                        <i class="fa-solid fa-clock mr-1"></i> 선착순 마감 주의
                    </span>
                </div>
                <h1 class="text-3xl md:text-5xl font-black mb-6 leading-[1.15] text-gray-900">
                    2025년 <span class="text-blue-600">이노비즈(Inno-Biz)</span> <br/>
                    인증 획득 지원사업 공고
                </h1>
                <p class="text-lg text-gray-500 mb-8 leading-relaxed font-medium">
                    기술혁신형 중소기업 인증으로 금융·R&D 혜택을 받으세요. <br/>
                    피피 AI가 우리 기업의 인증 가능 등급을 1분 만에 예측해 드립니다.
                </p>
                <button onclick="document.getElementById('ai-section').scrollIntoView({behavior:'smooth'})" class="bg-blue-600 text-white px-8 py-4 rounded-2xl font-black text-lg shadow-xl shadow-blue-100 hover:-translate-y-1 transition-all flex items-center group">
                    인증 가능 여부 1초 진단
                    <i class="fa-solid fa-arrow-right ml-2 group-hover:translate-x-1 transition-transform"></i>
                </button>
            </div>
            <div class="lg:col-span-5 grid grid-cols-2 gap-4">
                <div class="bg-blue-50 p-6 rounded-[2.5rem] border border-blue-100 flex flex-col justify-between aspect-square">
                    <i class="fa-solid fa-dollar-sign text-blue-600 text-2xl"></i>
                    <div>
                        <p class="text-sm font-bold text-blue-800/60 mb-1">지원 내용</p>
                        <p class="text-2xl font-black text-blue-900 leading-tight">인증 수수료<br/>+ 컨설팅비</p>
                    </div>
                </div>
                <div class="bg-gray-50 p-6 rounded-[2.5rem] border border-gray-100 flex flex-col justify-between aspect-square">
                    <i class="fa-solid fa-award text-gray-400 text-2xl"></i>
                    <div>
                        <p class="text-sm font-bold text-gray-400 mb-1">대상 기업</p>
                        <p class="text-2xl font-black text-gray-800 leading-tight">업력 3년 이상<br/>중소기업</p>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- 3. Main Content -->
    <main class="max-w-6xl mx-auto px-6 py-12 grid grid-cols-1 lg:grid-cols-12 gap-12">
        
        <div class="lg:col-span-8 space-y-16">
            
            <!-- AI Matching Box -->
            <section class="bg-white rounded-[2rem] p-8 border border-gray-100 shadow-sm overflow-hidden relative">
                <div class="flex items-center space-x-2 mb-8">
                    <div class="w-10 h-10 bg-indigo-50 rounded-xl flex items-center justify-center text-indigo-600">
                        <i class="fa-solid fa-chart-line text-lg"></i>
                    </div>
                    <h3 class="text-xl font-black text-gray-900">우리 기업 인증 매칭</h3>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div class="flex flex-col items-center justify-center p-8 bg-gray-50 rounded-3xl border border-gray-100 relative">
                        <div id="lock-overlay" class="absolute inset-0 bg-white/60 backdrop-blur-sm z-10 flex flex-col items-center justify-center rounded-3xl">
                            <i class="fa-solid fa-lock text-blue-600 text-3xl mb-3"></i>
                            <button onclick="unlockAnalysis()" class="bg-blue-600 text-white px-6 py-2 rounded-full font-bold shadow-lg text-sm">로그인하고 예측 등급 보기</button>
                        </div>
                        <p class="text-sm font-bold text-gray-400 mb-4 uppercase tracking-widest">예상 인증 등급</p>
                        <div class="relative w-32 h-32 flex items-center justify-center">
                            <svg class="w-full h-full">
                                <circle cx="64" cy="64" r="58" stroke="#f3f4f6" stroke-width="12" fill="transparent" />
                                <circle id="progress-circle" cx="64" cy="64" r="58" stroke="#2563eb" stroke-width="12" fill="transparent" stroke-dasharray="364.4" stroke-dashoffset="364.4" class="progress-ring__circle" />
                            </svg>
                            <span id="grade-text" class="absolute text-3xl font-black text-gray-300 font-serif">?</span>
                        </div>
                        <p id="analysis-status" class="mt-4 text-xs font-bold text-gray-400">데이터를 분석 중입니다</p>
                    </div>
                    <div class="flex flex-col justify-center space-y-6">
                        <div class="p-5 bg-blue-50 rounded-2xl border border-blue-100">
                            <div class="flex items-center space-x-2 mb-2 text-blue-700 font-black italic text-sm">
                                <i class="fa-solid fa-bolt mr-1"></i> AI Insight
                            </div>
                            <div id="insight-content" class="text-sm text-blue-900/80 font-medium leading-relaxed">
                                기업 정보를 입력하시면 귀사의 기술력을 분석하여 <span class="font-bold underline decoration-blue-300 underline-offset-4">이노비즈 통과 가능성</span>을 진단해 드립니다.
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Gemini AI Input Section -->
            <section id="ai-section" class="bg-gradient-to-br from-blue-700 via-indigo-700 to-indigo-900 rounded-[2.5rem] p-10 text-white shadow-2xl relative overflow-hidden">
                <div class="relative z-10">
                    <div class="flex items-center space-x-3 mb-6">
                        <div class="p-2 bg-white/20 backdrop-blur-md rounded-lg text-white">
                            <i class="fa-solid fa-sparkles animate-pulse"></i>
                        </div>
                        <span class="font-black uppercase tracking-[0.2em] text-xs text-blue-100">✨ Gemini AI Analysis</span>
                    </div>
                    <h2 class="text-3xl font-black mb-4 leading-tight">기업 정보를 입력하고 <br/> <span class="text-blue-300">맞춤형 인증 전략</span>을 받으세요</h2>
                    
                    <div class="bg-white/10 backdrop-blur-xl rounded-3xl p-6 border border-white/20 shadow-inner mt-8">
                        <textarea id="business-input" placeholder="예: 자동차 조향 장치 부품을 제조하는 5년 차 기업입니다. 자체 특허 2건이 있으며, 매년 매출이 20% 성장 중입니다..." class="w-full h-36 bg-transparent border-none focus:ring-0 text-white placeholder-blue-200/50 resize-none text-base font-medium"></textarea>
                        <div class="flex flex-col md:flex-row justify-between items-center mt-6 pt-6 border-t border-white/10 gap-4">
                            <span class="text-[10px] text-blue-200 font-bold uppercase tracking-wider">Powered by Gemini 2.5 Flash</span>
                            <button id="ai-btn" onclick="runGeminiAnalysis()" class="w-full md:w-auto bg-white text-indigo-700 px-8 py-3.5 rounded-2xl font-black shadow-lg hover:bg-blue-50 transition-all flex items-center justify-center group">
                                <span id="btn-text">✨ AI 인증 전략 도출하기</span>
                                <div id="loading-spinner" class="hidden animate-spin rounded-full h-5 w-5 border-2 border-indigo-600 border-t-transparent mr-2"></div>
                            </button>
                        </div>
                    </div>

                    <!-- AI Result Display -->
                    <div id="ai-result-card" class="hidden mt-8 bg-white text-gray-900 rounded-3xl p-8 animate-bounce-in shadow-2xl">
                        <div class="flex items-center space-x-2 mb-6 text-blue-600">
                            <i class="fa-solid fa-award text-2xl"></i>
                            <h3 class="text-xl font-black">AI 맞춤 분석 결과</h3>
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                            <div>
                                <p class="text-xs font-black text-gray-400 uppercase mb-3">심사 통과를 위한 전략 팁</p>
                                <ul id="tips-list" class="space-y-3"></ul>
                            </div>
                            <div class="bg-blue-50 p-6 rounded-2xl flex flex-col justify-center border border-blue-100">
                                <p class="text-xs font-black text-blue-600 mb-2">예상 인증 가능성</p>
                                <div id="grade-result" class="text-4xl font-black text-blue-900 mb-4">A 등급 <span class="text-lg font-medium text-blue-600">유력</span></div>
                                <button class="w-full bg-blue-600 text-white py-3 rounded-xl font-black text-sm">✨ 기술서 초안 생성하기</button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

        </div>

        <!-- Sidebar -->
        <aside class="lg:col-span-4">
            <div class="sticky top-28 space-y-6">
                <div class="bg-white border-2 border-blue-600 rounded-[2.5rem] p-8 shadow-xl relative overflow-hidden">
                    <div class="absolute top-0 right-0 bg-blue-600 text-white px-5 py-1.5 rounded-bl-2xl text-[10px] font-black uppercase tracking-widest">Recommended</div>
                    <div class="flex items-center space-x-2 text-blue-600 mb-6 font-black text-sm">
                        <i class="fa-solid fa-shield-halved"></i> 인증 전문 컨설팅
                    </div>
                    <h3 class="text-2xl font-black mb-8 leading-snug">이노비즈 <br/><span class="text-blue-600">최종 획득</span> 패키지</h3>
                    <div class="space-y-4 mb-8 text-sm font-bold">
                        <div class="p-4 bg-gray-50 rounded-2xl border border-gray-100 flex items-center justify-between">
                            <span>패키지 A: 자가진단</span>
                            <span class="text-blue-600">99만원</span>
                        </div>
                        <div class="p-4 bg-blue-600 text-white rounded-2xl shadow-lg flex items-center justify-between">
                            <span>패키지 B: 올인원 대응</span>
                            <span class="text-blue-100">가장 인기</span>
                        </div>
                    </div>
                    <button class="w-full bg-blue-600 text-white py-5 rounded-2xl font-black text-lg shadow-lg hover:bg-blue-700 transition-all">무료 상담 예약하기</button>
                </div>
            </div>
        </aside>
    </main>

    <!-- Floating Bar -->
    <div class="fixed bottom-6 left-1/2 -translate-x-1/2 z-[100] w-[90%] max-w-2xl">
        <div class="bg-gray-900/95 backdrop-blur-xl border border-white/10 rounded-[2rem] p-3 shadow-2xl flex items-center justify-between">
            <div class="flex items-center ml-4">
                <div class="w-10 h-10 bg-blue-600 rounded-xl flex items-center justify-center text-white mr-3">
                    <i class="fa-solid fa-award"></i>
                </div>
                <div class="hidden sm:block">
                    <p class="text-[10px] font-black text-blue-400 uppercase tracking-widest">Inno-Biz Expert</p>
                    <p class="text-sm font-bold text-white">인증 가능성 진단하기</p>
                </div>
            </div>
            <button onclick="document.getElementById('ai-section').scrollIntoView({behavior:'smooth'})" class="bg-blue-600 text-white px-8 py-3 rounded-2xl font-black text-sm shadow-lg hover:bg-blue-700 transition-all">진단 시작하기</button>
        </div>
    </div>

    <script>
        const apiKey = ""; // API Key is handled by environment

        function unlockAnalysis() {
            document.getElementById('lock-overlay').style.display = 'none';
        }

        async function runGeminiAnalysis() {
            const input = document.getElementById('business-input').value;
            if (!input || input.length < 10) {
                alert("기업 정보를 조금 더 자세히 입력해 주세요.");
                return;
            }

            const btnText = document.getElementById('btn-text');
            const spinner = document.getElementById('loading-spinner');
            const aiBtn = document.getElementById('ai-btn');

            // UI Loading State
            btnText.style.display = 'none';
            spinner.classList.remove('hidden');
            aiBtn.disabled = true;

            const systemPrompt = "당신은 중소기업 인증 전문 컨설턴트입니다. 사용자가 입력한 기업 정보를 바탕으로 '이노비즈(Inno-Biz)' 인증을 받기 위한 전략적 조언과 기술사업계획서에 포함해야 할 핵심 키워드를 제공하세요. 결과는 'grade', 'keywords', 'tips' 세 부분으로 구성된 JSON 형식으로 한국어로 응답하세요.";
            const userQuery = `우리 기업 정보: ${input}. 이 정보를 바탕으로 이노비즈 인증 전략을 짜줘.`;

            try {
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        contents: [{ parts: [{ text: userQuery }] }],
                        systemInstruction: { parts: [{ text: systemPrompt }] },
                        generationConfig: { 
                            responseMimeType: "application/json",
                            responseSchema: {
                                type: "OBJECT",
                                properties: {
                                    grade: { type: "string" },
                                    keywords: { type: "array", items: { type: "string" } },
                                    tips: { type: "array", items: { type: "string" } }
                                }
                            }
                        }
                    })
                });

                const result = await response.json();
                const aiData = JSON.parse(result.candidates[0].content.parts[0].text);

                renderResult(aiData);
            } catch (error) {
                console.error("Gemini Error:", error);
                alert("AI 분석 중 오류가 발생했습니다. 다시 시도해 주세요.");
            } finally {
                btnText.style.display = 'inline';
                spinner.classList.add('hidden');
                aiBtn.disabled = false;
            }
        }

        function renderResult(data) {
            // Show Result Card
            const card = document.getElementById('ai-result-card');
            card.classList.remove('hidden');
            card.scrollIntoView({behavior: 'smooth'});

            // Set Grade
            document.getElementById('grade-result').innerHTML = `${data.grade} 등급 <span class="text-lg font-medium text-blue-600">유력</span>`;
            
            // Render Tips
            const tipsList = document.getElementById('tips-list');
            tipsList.innerHTML = data.tips.map(tip => `
                <li class="flex items-start">
                    <i class="fa-solid fa-circle-check text-green-500 mr-2 mt-1"></i>
                    <span class="text-sm font-medium text-gray-700 leading-snug">${tip}</span>
                </li>
            `).join('');

            // Update Circle UI (Top Match Section)
            unlockAnalysis();
            const circle = document.getElementById('progress-circle');
            const gradeText = document.getElementById('grade-text');
            const statusText = document.getElementById('analysis-status');
            const insight = document.getElementById('insight-content');

            circle.style.strokeDashoffset = "91.1"; // 75% fill for visual effect
            gradeText.innerText = data.grade;
            gradeText.classList.replace('text-gray-300', 'text-blue-600');
            statusText.innerText = "분석 완료";

            insight.innerHTML = `
                <p class="text-sm font-bold text-blue-900 mb-2">추천 전략 키워드:</p>
                <div class="flex flex-wrap gap-2">
                    ${data.keywords.map(kw => `<span class="text-[10px] bg-white text-blue-600 px-2 py-1 rounded-md border border-blue-200 font-bold">#${kw}</span>`).join('')}
                </div>
            `;
        }
    </script>
</body>
</html>
